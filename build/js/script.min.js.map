{"version":3,"sources":["script.js"],"names":["API_KEY","document","addEventListener","sectionList","sectionSelector","getElementById","cardSection","querySelector","logo","loader","errorMsg","logoSelectBoxSec","thereIsContent","innerHTML","createCard","parentElement","imgUrl","abstract","articleUrl","div","createElement","setAttribute","style","backgroundImage","backgroundPosition","backgroundSize","a","h3","innerText","appendChild","e","forEach","element","optionElement","str","charAt","toUpperCase","slice","value","event","section","classList","remove","add","target","fetch","then","res","json","data","jData","results","multimedia","splice","indexOf","filterResults","i","Math","min","length","url","catch","err"],"mappings":"OAASA,YAAe,kBAExBC,SAASC,iBACR,oBACA,WAIC,MAAMC,EAAc,CACnB,SACA,OACA,cACA,QACA,WACA,UACA,OACA,SACA,OACA,UACA,WACA,SACA,WACA,aACA,UACA,WACA,aACA,UACA,SACA,eACA,aACA,UACA,eACA,SACA,SACA,KACA,SAIKC,EAAkBH,SAASI,eAAe,oBAC1CC,EAAcL,SAASM,cAAc,iBACrCC,EAAOP,SAASM,cAAc,SAC9BE,EAASR,SAASM,cAAc,WAChCG,EAAWT,SAASM,cAAc,kBAClCI,EAAmBV,SAASM,cAAc,4BAC1CK,EAAiB,IACQ,KAA1BN,EAAYO,UA6EjB,SAASC,EAAWC,EAAeC,EAAQC,EAAUC,GAEpD,MAAMC,EAAMC,EAAc,OAC1BD,EAAIE,aAAa,QAAS,QAC1BF,EAAIG,MAAMC,gBAAkB,OAAOP,KACnCG,EAAIG,MAAME,mBAAqB,SAC/BL,EAAIG,MAAMG,eAAiB,QAE3B,MAAMC,EAAIN,EAAc,KACxBM,EAAEL,aAAa,OAAQH,GACvBQ,EAAEL,aAAa,QAAS,aACxBK,EAAEL,aAAa,SAAU,UAEzB,MAAMM,EAAKP,EAAc,MACzBO,EAAGN,aAAa,QAAS,YACzBM,EAAGC,UAAYX,EAEfE,EAAIU,YAAYF,GAChBR,EAAIU,YAAYH,GAChBX,EAAcc,YAAYV,GAS3B,SAASC,EAAcU,GACtB,OAAO7B,SAASmB,cAAcU,GA9F9B3B,EAAY4B,QAAQC,IACnB,MAAMC,EAAgBhC,SAASmB,cAAc,UAa/C,IAA8Bc,EAZ5BD,EAAcL,WAYcM,EAZmBF,GAarCG,OAAO,GAAGC,cAAgBF,EAAIG,MAAM,GAZ9CJ,EAAcK,MAAQN,EACtB5B,EAAgByB,YAAYI,KAG7B7B,EAAgBF,iBAAiB,SAAUqC,IAY5C,IAAoBC,EAqEnBlC,EAAYO,UAAY,GACxBL,EAAKiC,UAAUC,OAAO,qBACtBlC,EAAKiC,UAAUE,IAAI,QAvEAH,EAVPD,EAAMK,OAAON,MAWzB7B,EAAOgC,UAAUC,OAAO,QACxBhC,EAAS+B,UAAUE,IAAI,QACvBrC,EAAYmC,UAAUC,OAAO,UAC7B/B,EAAiB8B,UAAUC,OAAO,UAClCG,MACC,6CAA6CL,kBAAwBxC,WAEpE8C,KAAKC,GAAOA,EAAIC,QAChBF,KAAKG,IACL,MAAMC,EAAQD,EAAKE,SA2BtB,SAAuBF,GACtBA,EAAKlB,QAAQD,IACS,OAAjBA,EAAEsB,YACLH,EAAKI,OAAOJ,EAAKK,QAAQxB,GAAI,KA7B7ByB,CAAcL,GACd,IAAK,IAAIM,EAAI,EAAGA,EAAIC,KAAKC,IAAI,GAAIR,EAAMS,QAASH,IAC/C1C,EACCR,EACA4C,EAAMM,GAAGJ,WAAW,GAAGQ,IACvBV,EAAMM,GAAGvC,SACTiC,EAAMM,GAAGI,OAIXd,KAAK,KACLtC,EAAKiC,UAAUE,IAAI,qBACnBnC,EAAKiC,UAAUC,OAAO,QACtBjC,EAAOgC,UAAUE,IAAI,UAErBkB,MAAMC,IACNrD,EAAOgC,UAAUE,IAAI,QACjB/B,IACHF,EAAS+B,UAAUC,OAAO,QAC1BpC,EAAYmC,UAAUE,IAAI,UAC1BhC,EAAiB8B,UAAUE,IAAI,kBAgDpC","file":"script.min.js","sourcesContent":["import { API_KEY } from '../../config.js';\n\ndocument.addEventListener(\n\t'DOMContentLoaded',\n\tfunction() {\n\t\t//START - Wrapper for DOM ready\n\n\t\t// Sections from NY Time\n\t\tconst sectionList = [\n\t\t\t'select',\n\t\t\t'arts',\n\t\t\t'automobiles',\n\t\t\t'books',\n\t\t\t'business',\n\t\t\t'fashion',\n\t\t\t'food',\n\t\t\t'health',\n\t\t\t'home',\n\t\t\t'insider',\n\t\t\t'magazine',\n\t\t\t'movies',\n\t\t\t'nyregion',\n\t\t\t'obituaries',\n\t\t\t'opinion',\n\t\t\t'politics',\n\t\t\t'realestate',\n\t\t\t'science',\n\t\t\t'sports',\n\t\t\t'sundayreview',\n\t\t\t'technology',\n\t\t\t'theater',\n\t\t\t't - magazine',\n\t\t\t'travel',\n\t\t\t'upshot',\n\t\t\t'us',\n\t\t\t'world'\n\t\t];\n\n\t\t// Get elements in the HTML\n\t\tconst sectionSelector = document.getElementById('section-selector');\n\t\tconst cardSection = document.querySelector('.card-section');\n\t\tconst logo = document.querySelector('.logo');\n\t\tconst loader = document.querySelector('.loader');\n\t\tconst errorMsg = document.querySelector('.error-message');\n\t\tconst logoSelectBoxSec = document.querySelector('.logo-select-box-section');\n\t\tconst thereIsContent = () => {\n\t\t\tif (cardSection.innerHTML === '') {\n\t\t\t\treturn false;\n\t\t\t} else {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t};\n\n\t\tstart();\n\n\t\t// Start\n\t\tfunction start() {\n\t\t\t// Set the select elements\n\t\t\tsectionList.forEach(element => {\n\t\t\t\tconst optionElement = document.createElement('option');\n\t\t\t\toptionElement.innerText = uppercaseFirstLetter(element);\n\t\t\t\toptionElement.value = element;\n\t\t\t\tsectionSelector.appendChild(optionElement);\n\t\t\t});\n\t\t\t// Add event listener\n\t\t\tsectionSelector.addEventListener('change', event => {\n\t\t\t\tcleanCard();\n\t\t\t\tgetStories(event.target.value);\n\t\t\t});\n\t\t}\n\n\t\t// To Upper Case\n\t\tfunction uppercaseFirstLetter(str) {\n\t\t\treturn str.charAt(0).toUpperCase() + str.slice(1);\n\t\t}\n\n\t\t// API Call\n\t\tfunction getStories(section) {\n\t\t\tloader.classList.remove('none');\n\t\t\terrorMsg.classList.add('none');\n\t\t\tcardSection.classList.remove('flex-1');\n\t\t\tlogoSelectBoxSec.classList.remove('flex-1');\n\t\t\tfetch(\n\t\t\t\t`https://api.nytimes.com/svc/topstories/v2/${section}.json?api-key=${API_KEY}`\n\t\t\t)\n\t\t\t\t.then(res => res.json())\n\t\t\t\t.then(data => {\n\t\t\t\t\tconst jData = data.results;\n\t\t\t\t\tfilterResults(jData);\n\t\t\t\t\tfor (let i = 0; i < Math.min(12, jData.length); i++) {\n\t\t\t\t\t\tcreateCard(\n\t\t\t\t\t\t\tcardSection,\n\t\t\t\t\t\t\tjData[i].multimedia[0].url,\n\t\t\t\t\t\t\tjData[i].abstract,\n\t\t\t\t\t\t\tjData[i].url\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.then(() => {\n\t\t\t\t\tlogo.classList.add('logo-with-content');\n\t\t\t\t\tlogo.classList.remove('logo');\n\t\t\t\t\tloader.classList.add('none');\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tloader.classList.add('none');\n\t\t\t\t\tif (thereIsContent) {\n\t\t\t\t\t\terrorMsg.classList.remove('none');\n\t\t\t\t\t\tcardSection.classList.add('flex-1');\n\t\t\t\t\t\tlogoSelectBoxSec.classList.add('flex-1');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t}\n\n\t\t// Filter results\n\t\tfunction filterResults(data) {\n\t\t\tdata.forEach(e => {\n\t\t\t\tif (e.multimedia === null) {\n\t\t\t\t\tdata.splice(data.indexOf(e), 1);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\n\t\t// Create card\n\t\tfunction createCard(parentElement, imgUrl, abstract, articleUrl) {\n\t\t\t// Create div\n\t\t\tconst div = createElement('div');\n\t\t\tdiv.setAttribute('class', 'card');\n\t\t\tdiv.style.backgroundImage = `url(${imgUrl})`;\n\t\t\tdiv.style.backgroundPosition = 'center';\n\t\t\tdiv.style.backgroundSize = 'cover';\n\t\t\t// Create a element\n\t\t\tconst a = createElement('a');\n\t\t\ta.setAttribute('href', articleUrl);\n\t\t\ta.setAttribute('class', 'card-link');\n\t\t\ta.setAttribute('target', '_blank');\n\t\t\t// Create abstract\n\t\t\tconst h3 = createElement('h3');\n\t\t\th3.setAttribute('class', 'abstract');\n\t\t\th3.innerText = abstract;\n\t\t\t// Append elements\n\t\t\tdiv.appendChild(h3);\n\t\t\tdiv.appendChild(a);\n\t\t\tparentElement.appendChild(div);\n\t\t}\n\t\t// Clean the card section to include new cards\n\t\tfunction cleanCard() {\n\t\t\tcardSection.innerHTML = '';\n\t\t\tlogo.classList.remove('logo-with-content');\n\t\t\tlogo.classList.add('logo');\n\t\t}\n\t\t// Function to create a new element\n\t\tfunction createElement(e) {\n\t\t\treturn document.createElement(e);\n\t\t}\n\t\t// END - Wrapper for DOM ready\n\t},\n\tfalse\n);\n"]}