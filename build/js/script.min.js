import{API_KEY}from"../../config.js";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("section-selector"),t=document.querySelector(".card-section");function n(e,t,n,s){const a=o("div");a.setAttribute("class","card"),a.style.backgroundImage=`url(${t})`,a.style.backgroundPosition="center",a.style.backgroundSize="cover";const i=o("a");i.setAttribute("href",s),i.setAttribute("class","card-link"),i.setAttribute("target","_blank");const r=o("p");r.setAttribute("class","abstract"),r.innerText=n,a.appendChild(r),a.appendChild(i),e.appendChild(a)}function o(e){return document.createElement(e)}["select","arts","automobiles","books","business","fashion","food","health","home","insider","magazine","movies","nyregion","obituaries","opinion","politics","realestate","science","sports","sundayreview","technology","theater","t - magazine","travel","upshot","us","world"].forEach(t=>{const n=document.createElement("option");var o;n.innerText=(o=t).charAt(0).toUpperCase()+o.slice(1),n.value=t,e.appendChild(n)}),e.addEventListener("change",e=>{var o;t.innerHTML="",o=e.target.value,fetch(`https://api.nytimes.com/svc/topstories/v2/${o}.json?api-key=${API_KEY}`).then(e=>e.json()).then(e=>{e=e.results,console.log(e),e.forEach(t=>{null===t.multimedia&&(console.log(t),e.splice(e.indexOf(t),1))}),console.log(e);for(let o=0;o<12;o++)n(t,e[o].multimedia[0].url,e[o].abstract,e[o].url)}).catch(e=>{console.log(e)})})}),!1);