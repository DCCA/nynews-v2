import{API_KEY}from"../../config.js";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("section-selector"),t=document.querySelector(".card-section");document.querySelector(".logo"),document.querySelector(".logo-select-box-section");function o(e,t,o,s){const c=n("div");c.setAttribute("class","card"),c.style.backgroundImage=`url(${t})`,c.style.backgroundPosition="center",c.style.backgroundSize="cover";const r=n("a");r.setAttribute("href",s),r.setAttribute("class","card-link"),r.setAttribute("target","_blank");const i=n("p");i.setAttribute("class","abstract"),i.innerText=o,c.appendChild(i),c.appendChild(r),e.appendChild(c)}function n(e){return document.createElement(e)}["select","arts","automobiles","books","business","fashion","food","health","home","insider","magazine","movies","nyregion","obituaries","opinion","politics","realestate","science","sports","sundayreview","technology","theater","t - magazine","travel","upshot","us","world"].forEach(t=>{const o=document.createElement("option");var n;o.innerText=(n=t).charAt(0).toUpperCase()+n.slice(1),o.value=t,e.appendChild(o)}),e.addEventListener("change",e=>{var n;t.innerHTML="",n=e.target.value,fetch(`https://api.nytimes.com/svc/topstories/v2/${n}.json?api-key=${API_KEY}`).then(e=>e.json()).then(e=>{e=e.results,console.log(e),e.forEach(t=>{null===t.multimedia&&(console.log(t),e.splice(e.indexOf(t),1))}),console.log(e);for(let n=0;n<12;n++)o(t,e[n].multimedia[0].url,e[n].abstract,e[n].url)}).catch(e=>{console.log(e)})})}),!1);