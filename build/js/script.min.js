import{API_KEY}from"../../config.js";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("section-selector"),t=document.querySelector(".card-section"),o=document.querySelector(".logo"),s=document.querySelector(".loader");function n(e,t,o,s){const n=a("div");n.setAttribute("class","card"),n.style.backgroundImage=`url(${t})`,n.style.backgroundPosition="center",n.style.backgroundSize="cover";const c=a("a");c.setAttribute("href",s),c.setAttribute("class","card-link"),c.setAttribute("target","_blank");const i=a("p");i.setAttribute("class","abstract"),i.innerText=o,n.appendChild(i),n.appendChild(c),e.appendChild(n)}function a(e){return document.createElement(e)}["select","arts","automobiles","books","business","fashion","food","health","home","insider","magazine","movies","nyregion","obituaries","opinion","politics","realestate","science","sports","sundayreview","technology","theater","t - magazine","travel","upshot","us","world"].forEach(t=>{const o=document.createElement("option");var s;o.innerText=(s=t).charAt(0).toUpperCase()+s.slice(1),o.value=t,e.appendChild(o)}),e.addEventListener("change",e=>{var a;t.innerHTML="",o.classList.remove("logo-with-content"),o.classList.add("logo"),a=e.target.value,s.classList.remove("none"),fetch(`https://api.nytimes.com/svc/topstories/v2/${a}.json?api-key=${API_KEY}`).then(e=>e.json()).then(e=>{e=e.results,console.log(e),e.forEach(t=>{null===t.multimedia&&(console.log(t),e.splice(e.indexOf(t),1))}),console.log(e);for(let o=0;o<12;o++)n(t,e[o].multimedia[0].url,e[o].abstract,e[o].url);o.classList.add("logo-with-content"),o.classList.remove("logo"),s.classList.add("none")}).catch(e=>{console.log(e),s.classList.add("none")})})}),!1);