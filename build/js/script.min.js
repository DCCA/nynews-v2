import{API_KEY}from"../../config.js";document.addEventListener("DOMContentLoaded",(function(){const e=["select","arts","automobiles","books","business","fashion","food","health","home","insider","magazine","movies","nyregion","obituaries","opinion","politics","realestate","science","sports","sundayreview","technology","theater","t - magazine","travel","upshot","us","world"],t=document.getElementById("section-selector"),s=document.querySelector(".card-section"),o=document.querySelector(".logo"),n=document.querySelector(".loader"),a=document.querySelector(".error-message"),c=document.querySelector(".logo-select-box-section"),i=()=>""!==s.innerHTML;function r(e,t,s,o){const n=l("div");n.setAttribute("class","card"),n.style.backgroundImage=`url(${t})`,n.style.backgroundPosition="center",n.style.backgroundSize="cover";const a=l("a");a.setAttribute("href",o),a.setAttribute("class","card-link"),a.setAttribute("target","_blank");const c=l("h3");c.setAttribute("class","abstract"),c.innerText=s,n.appendChild(c),n.appendChild(a),e.appendChild(n)}function l(e){return document.createElement(e)}e.forEach(e=>{const s=document.createElement("option");var o;s.innerText=(o=e).charAt(0).toUpperCase()+o.slice(1),s.value=e,t.appendChild(s)}),t.addEventListener("change",e=>{var t;s.innerHTML="",o.classList.remove("logo-with-content"),o.classList.add("logo"),t=e.target.value,n.classList.remove("none"),a.classList.add("none"),s.classList.remove("flex-1"),c.classList.remove("flex-1"),fetch(`https://api.nytimes.com/svc/topstories/v2/${t}.json?api-key=${API_KEY}`).then(e=>e.json()).then(e=>{const t=e.results;!function(e){e.forEach(t=>{null===t.multimedia&&e.splice(e.indexOf(t),1)})}(t);for(let e=0;e<Math.min(12,t.length);e++)r(s,t[e].multimedia[0].url,t[e].abstract,t[e].url)}).then(()=>{o.classList.add("logo-with-content"),o.classList.remove("logo"),n.classList.add("none")}).catch(e=>{n.classList.add("none"),i&&(a.classList.remove("none"),s.classList.add("flex-1"),c.classList.add("flex-1"))})})}),!1);
//# sourceMappingURL=script.min.js.map
