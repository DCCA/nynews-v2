import{API_KEY}from"../../config.js";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("section-selector"),t=document.querySelector(".card-section"),o=document.querySelector(".logo");function n(e,t,o,n){const a=s("div");a.setAttribute("class","card"),a.style.backgroundImage=`url(${t})`,a.style.backgroundPosition="center",a.style.backgroundSize="cover";const c=s("a");c.setAttribute("href",n),c.setAttribute("class","card-link"),c.setAttribute("target","_blank");const i=s("p");i.setAttribute("class","abstract"),i.innerText=o,a.appendChild(i),a.appendChild(c),e.appendChild(a)}function s(e){return document.createElement(e)}["select","arts","automobiles","books","business","fashion","food","health","home","insider","magazine","movies","nyregion","obituaries","opinion","politics","realestate","science","sports","sundayreview","technology","theater","t - magazine","travel","upshot","us","world"].forEach(t=>{const o=document.createElement("option");var n;o.innerText=(n=t).charAt(0).toUpperCase()+n.slice(1),o.value=t,e.appendChild(o)}),e.addEventListener("change",e=>{var s;t.innerHTML="",o.classList.remove("logo-with-content"),o.classList.add("logo"),s=e.target.value,fetch(`https://api.nytimes.com/svc/topstories/v2/${s}.json?api-key=${API_KEY}`).then(e=>e.json()).then(e=>{e=e.results,console.log(e),e.forEach(t=>{null===t.multimedia&&(console.log(t),e.splice(e.indexOf(t),1))}),console.log(e);for(let o=0;o<12;o++)n(t,e[o].multimedia[0].url,e[o].abstract,e[o].url);o.classList.add("logo-with-content"),o.classList.remove("logo")}).catch(e=>{console.log(e)})})}),!1);