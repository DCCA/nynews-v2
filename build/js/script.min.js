import{API_KEY}from"../../config.js";document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("section-selector"),t=document.querySelector(".card-section");["arts","automobiles","books","business","fashion","food","health","home","insider","magazine","movies","nyregion","obituaries","opinion","politics","realestate","science","sports","sundayreview","technology","theater","t - magazine","travel","upshot","us","world"].forEach(t=>{const n=document.createElement("option");var o;n.innerText=(o=t).charAt(0).toUpperCase()+o.slice(1),n.value=t,e.appendChild(n)}),e.addEventListener("change",e=>{var n;t.innerHTML="",n=e.target.value,fetch(`https://api.nytimes.com/svc/topstories/v2/${n}.json?api-key=${API_KEY}`).then(e=>e.json()).then(e=>{e=e.results,console.log(e[0]),e.forEach(e=>{!function(e,t,n){const o=document.createElement("div");o.setAttribute("class","card"),o.style.backgroundImage=`url(${t})`,o.style.backgroundPosition="center",o.style.backgroundSize="cover";const s=document.createElement("p");s.setAttribute("class","abstract"),s.innerText=n,o.appendChild(s),e.appendChild(o)}(t,e.multimedia[0].url,e.abstract)})}).catch(e=>{console.log(e)})})}),!1);